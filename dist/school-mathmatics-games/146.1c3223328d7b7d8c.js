"use strict";(self.webpackChunkSchoolMathmaticsGames=self.webpackChunkSchoolMathmaticsGames||[]).push([[146],{8146:(T,_,a)=>{a.r(_),a.d(_,{CreatePageModule:()=>O});var u=a(6895),r=a(433),f=a(1658),s=a(7340),C=a(8212),e=a(8256),v=a(4729),l=a(5638),w=a(6726);const d=function(n){return{active:n}};let x=(()=>{class n{constructor(){this.checked=0,this.onChange=t=>{},this.onTouched=()=>{},this.touched=!1}switchCheck(t){this.touched||(this.onTouched(),this.touched=!0),this.checked!==t&&(this.checked=t,this.onChange(this.checked))}registerOnChange(t){this.onChange=t}writeValue(t){this.checked=t}registerOnTouched(t){this.onTouched=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-game-control"]],features:[e._Bn([{provide:r.JU,multi:!0,useExisting:n}])],decls:10,vars:9,consts:[[1,"game__row"],[1,"game__game"],[1,"game__button",3,"ngClass","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.switchCheck(2)}),e._uU(3," \u0414\u043e\u043c\u0438\u043d\u043e "),e.qZA()(),e.TgZ(4,"div",1)(5,"button",2),e.NdJ("click",function(){return o.switchCheck(0)}),e._uU(6," \u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0410\u0431\u0430\u043a\u0430 "),e.qZA()(),e.TgZ(7,"div",1)(8,"button",2),e.NdJ("click",function(){return o.switchCheck(1)}),e._uU(9," \u0411\u043e\u043d\u0443\u0441\u044b "),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngClass",e.VKq(3,d,2===o.checked)),e.xp6(3),e.Q6J("ngClass",e.VKq(5,d,0===o.checked)),e.xp6(3),e.Q6J("ngClass",e.VKq(7,d,1===o.checked)))},dependencies:[u.mk],styles:[".game__row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-.7rem;justify-content:center}@media (max-width: 679px){.game__row[_ngcontent-%COMP%]{width:450px}}@media (max-width: 679px){.game__row[_ngcontent-%COMP%]{width:400px}}.game__game[_ngcontent-%COMP%]{padding:.7rem}@media (max-width: 679px){.game__game[_ngcontent-%COMP%]:first-child{order:2}.game__game[_ngcontent-%COMP%]:nth-child(2){order:1;page-break-after:right;break-after:right}.game__game[_ngcontent-%COMP%]:last-child{order:3}}.game__button[_ngcontent-%COMP%]{padding:1.5rem 1.85rem;border-radius:20px;box-shadow:0 0 14px #0003;font-weight:700;font-size:2rem;transition:all ease .3s}.game__button[_ngcontent-%COMP%]:hover{box-shadow:0 0 14px #00000059}.game__button.active[_ngcontent-%COMP%]{background-color:#000;color:#fff}"]}),n})();const h=function(n){return{invalid:n}};let M=(()=>{class n{constructor(t,o,m,g){this._fb=t,this._destroy=o,this._gamesService=m,this._router=g,this.currentDate="2018-01-10";let i=new Date(Date.now());this.currentDate=`${i.getFullYear()}-${i.getMonth()<9?"0":""}${i.getMonth()+1}-${i.getDate()<10?"0":""}${i.getDate()}`,this.createForm=this._fb.group({gameTitle:new r.NI("",{validators:[r.kI.required]}),game:2,date:new r.NI(this.currentDate,{validators:[r.kI.required,p=>{const b=p.value.toString().split(".").reverse().join("-"),y=Date.parse(b);return isNaN(+y)?{invalidDate:!0}:null}]}),time:new r.NI(`${i.getHours()<10?"0":""}${i.getHours()}:${i.getMinutes()<10?"0":""}${i.getMinutes()}`,{validators:r.kI.required}),timeGame:new r.NI("03:30",{validators:r.kI.required})}),this.createForm.controls.date.valueChanges.pipe(this._destroy.takeUntilDestroy).subscribe(p=>this.currentDate=p)}ngOnInit(){}createGame(){if(this.createForm.invalid)return void this.createForm.controls.gameTitle.markAsTouched();let t={name:this.createForm.controls.gameTitle.value,type:this.createForm.controls.game.value,start:Date.parse(this.createForm.controls.date.value+"T"+this.createForm.controls.time.value),timeGame:this.codeTime(this.createForm.controls.timeGame.value)};this._gamesService.createGame(t).pipe(this._destroy.takeUntilDestroy).subscribe(o=>{this._router.navigate(["edit",o.id],{state:o})})}codeTime(t){let o=t.split(":");return 3600*parseInt(o[0])+60*parseInt(o[1])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(f.z),e.Y36(v.B),e.Y36(l.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-page"]],features:[e._Bn([f.z])],decls:31,vars:12,consts:[[1,"create"],[1,"create__wrapper"],[1,"create__title","title-page"],["action","",1,"create__form","create-form",3,"formGroup"],[1,"create-form__name"],["type","text","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u0433\u0440\u044b","formControlName","gameTitle",1,"create-form__name-input",3,"ngClass"],[1,"create-form__game-picker"],["formControlName","game"],[1,"create-form__date"],[1,"create-form__field-title"],[1,"create-form__date-row"],[1,"create-form__date-wrap",3,"ngClass"],["type","date","formControlName","date","onClick","event.preventDefault()",1,"create-form__input-date"],[1,"create-form__date-show"],[1,"create-form__date-wrap","time"],["type","time","formControlName","time",1,"create-form__time"],[1,"create-form__time-game"],[1,"create-form__date-row","center"],["type","time","formControlName","timeGame",1,"create-form__time"],[1,"create-form__grow"],[1,"create__create"],[1,"create__create-button",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0),e._UZ(1,"app-back-to-main"),e.TgZ(2,"div",1)(3,"h1",2),e._uU(4," \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0438\u0433\u0440\u0443 "),e.qZA(),e.TgZ(5,"form",3)(6,"div",4),e._UZ(7,"input",5),e.qZA(),e.TgZ(8,"div",6),e._UZ(9,"app-game-control",7),e.qZA(),e.TgZ(10,"div",8)(11,"div",9),e._uU(12," \u0414\u0430\u0442\u0430 "),e.qZA(),e.TgZ(13,"div",10)(14,"div",11),e._UZ(15,"input",12),e.TgZ(16,"div",13),e._uU(17),e.ALo(18,"date"),e.qZA()(),e.TgZ(19,"div",14),e._UZ(20,"input",15),e.qZA()()(),e.TgZ(21,"div",16)(22,"div",9),e._uU(23," \u0412\u0440\u0435\u043c\u044f \u0438\u0433\u0440\u044b (\u0447\u0430\u0441\u044b/\u043c\u0438\u043d\u0443\u0442\u044b) "),e.qZA(),e.TgZ(24,"div",17)(25,"div",14),e._UZ(26,"input",18),e.qZA()()(),e._UZ(27,"div",19),e.TgZ(28,"div",20)(29,"button",21),e.NdJ("click",function(){return o.createGame()}),e._uU(30," \u0421\u043e\u0437\u0434\u0430\u0442\u044c "),e.qZA()()()()()),2&t&&(e.Q6J("@appear",void 0),e.xp6(5),e.Q6J("formGroup",o.createForm),e.xp6(2),e.Q6J("ngClass",e.VKq(8,h,o.createForm.controls.gameTitle.invalid&&o.createForm.controls.gameTitle.touched)),e.xp6(7),e.Q6J("ngClass",e.VKq(10,h,o.createForm.controls.date.invalid&&o.createForm.controls.date.touched)),e.xp6(3),e.hij(" ",e.xi3(18,5,o.currentDate,"dd.MM.YYYY")," "))},dependencies:[u.mk,w.q,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,x,u.uU],styles:[".create[_ngcontent-%COMP%]{padding:5rem 2rem;min-height:100vh;display:flex;flex-direction:column;background-color:#fff}.create__wrapper[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}.create__title[_ngcontent-%COMP%]{display:flex;justify-content:center}.create__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;flex-grow:1;margin-top:5.5rem;align-items:center}.create__create[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:3rem}.create__create-button[_ngcontent-%COMP%]{padding:1.3rem 2.8rem;color:#fff;background-color:#429a85;transition:all ease .3s;border-radius:20px;font-size:2rem;font-weight:700}.create__create-button[_ngcontent-%COMP%]:hover{background-color:#254e44}.create-form__grow[_ngcontent-%COMP%]{flex-grow:1}.create-form__name[_ngcontent-%COMP%]{max-width:1100px;width:100%}.create-form__name-input[_ngcontent-%COMP%]{width:100%;text-align:center;background-color:#f0f0f0;color:#000;font-size:2.5rem;padding:1rem;border-radius:11px;transition:all ease .3s;box-shadow:0 0 1px 1px transparent}.create-form__name-input[_ngcontent-%COMP%]::placeholder{color:#9d9d9d}.create-form__name-input[_ngcontent-%COMP%]:focus, .create-form__name-input[_ngcontent-%COMP%]:active{box-shadow:0 0 1px 1px #000}.create-form__name-input.invalid[_ngcontent-%COMP%]{box-shadow:0 0 1px 1px red}.create-form__game-picker[_ngcontent-%COMP%], .create-form__date[_ngcontent-%COMP%]{margin-top:4rem}.create-form__date-row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:.7rem}.create-form__date-row.center[_ngcontent-%COMP%]{justify-content:center}.create-form__field-title[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:2.3rem}.create-form__date-wrap[_ngcontent-%COMP%]{position:relative;padding:7px 12px;background-color:#f0f0f0;border-radius:11px;width:193px;box-shadow:0 0 1px 1px #fff;transition:all ease .3s;overflow:hidden}.create-form__date-wrap.time[_ngcontent-%COMP%]{width:114px}.create-form__date-wrap.invalid[_ngcontent-%COMP%]{box-shadow:0 0 1px 1px red}.create-form__input-date[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;font-size:26px;line-height:1;vertical-align:top;background-color:transparent;width:300px;font-weight:700;position:relative;top:50%;right:0%;transform:translateY(-50%);color:#3d8e4f}.create-form__input-date[_ngcontent-%COMP%]::-webkit-inner-spin-button, .create-form__input-date[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{position:fixed;left:-100%;top:-100%;padding-left:1000px;width:0;height:0;opacity:0;display:none}.create-form__date-show[_ngcontent-%COMP%]{position:absolute;left:14px;top:50%;transform:translateY(-50%);pointer-events:none;display:none}.create-form__time-game[_ngcontent-%COMP%]{margin-top:2.3rem}.create-form__time-game__input[_ngcontent-%COMP%], .create-form__time[_ngcontent-%COMP%]{font-size:28px;font-family:Roboto Mono,monospace;line-height:1;background-color:transparent;width:300px;font-weight:700;color:#3290ff}"],data:{animation:[(0,s.X$)("appear",[(0,s.eR)(":enter",(0,s._7)(C.M))])]}}),n})();var P=a(4466);const k=[{path:"",component:M}];let O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,l.Bz.forChild(k),P.m,r.UX,l.Bz]}),n})()}}]);