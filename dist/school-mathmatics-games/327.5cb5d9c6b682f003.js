"use strict";(self.webpackChunkSchoolMathmaticsGames=self.webpackChunkSchoolMathmaticsGames||[]).push([[327],{4327:(L,p,a)=>{a.r(p),a.d(p,{MainPageModule:()=>E});var s=a(6895),g=a(7340),c=a(8212),n=a(8256),u=a(5638),b=a(4729),h=a(2723);const C={0:"\u043d\u0435 \u043d\u0430\u0447\u0430\u043b\u0430\u0441\u044c",1:"\u0438\u0434\u0451\u0442",2:"\u043f\u0440\u0438\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430",3:"\u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u0430",4:"\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"};var m=a(8264);let v=(()=>{class e{constructor(t){this.e=t}ngOnInit(){this.e.nativeElement.style.color={0:"#6B6B6B",1:"#68A153",2:"#BE8632",3:"#536EA1",4:"#A15353"}[this.statusColor]}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq))},e.\u0275dir=n.lG2({type:e,selectors:[["","statusColor",""]],inputs:{statusColor:"statusColor"}}),e})();function O(e,i){if(1&e&&(n.ynx(0),n.TgZ(1,"li",8)(2,"a",9),n._uU(3," \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c "),n.qZA()(),n.BQk()),2&e){const t=n.oxw();n.xp6(2),n.Q6J("routerLink","../edit/"+t.game.id)}}let M=(()=>{class e{constructor(t){this.login=t,this.OGameType=h.E,this.OGameStatus=C}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(m.r))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-game"]],inputs:{game:"game"},decls:23,vars:12,consts:[[1,"game"],[1,"game__content"],[1,"game__title"],[1,"game__type"],[1,"game__start","game__flex"],[1,"game__status","game__flex"],[3,"statusColor"],[1,"game__links","game-links"],[1,"game-links_item"],[1,"game-links__link",3,"routerLink"],[4,"ngIf"]],template:function(t,o){1&t&&(n.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),n._uU(3),n.qZA(),n.TgZ(4,"div",3),n._uU(5),n.qZA(),n.TgZ(6,"div",4)(7,"span"),n._uU(8,"\u041d\u0430\u0447\u0430\u043b\u043e: "),n.qZA(),n.TgZ(9,"span"),n._uU(10),n.ALo(11,"date"),n.qZA()(),n.TgZ(12,"div",5)(13,"span"),n._uU(14,"\u0421\u0442\u0430\u0442\u0443\u0441: "),n.qZA(),n.TgZ(15,"span",6),n._uU(16),n.qZA()(),n.TgZ(17,"ul",7)(18,"li",8)(19,"a",9),n._uU(20," \u041e\u043d\u043b\u0430\u0439\u043d-\u0442\u0430\u0431\u043b\u043e "),n.qZA()(),n.YNc(21,O,4,1,"ng-container",10),n.ALo(22,"async"),n.qZA()()()),2&t&&(n.xp6(3),n.hij(" ",o.game.name," "),n.xp6(2),n.hij(" ",o.OGameType[o.game.type]," "),n.xp6(5),n.Oqu(n.xi3(11,7,o.game.start,"dd.MM.yyyy HH:mm")),n.xp6(5),n.Q6J("statusColor",o.game.status),n.xp6(1),n.Oqu(o.OGameStatus[o.game.status]),n.xp6(3),n.Q6J("routerLink","../game/"+o.game.id),n.xp6(2),n.Q6J("ngIf",n.lcZ(22,10,o.login.isLogged$)))},dependencies:[s.O5,u.yS,v,s.Ov,s.uU],styles:[".game[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:20px;padding:2.1rem 0;text-align:center;box-shadow:0 0 14px #0003;transition:all ease .3s}.game[_ngcontent-%COMP%]:hover{box-shadow:0 0 14px #00000059}.game__title[_ngcontent-%COMP%]{font-weight:700;color:#000;font-size:1.5rem;line-height:1.23em;padding:0 2.5rem}.game__type[_ngcontent-%COMP%]{margin-top:1.2rem;font-size:1.42rem;font-weight:700;color:#6b6b6b}.game__start[_ngcontent-%COMP%]{margin-top:1.7rem;font-size:1.42rem;font-weight:700;color:#6b6b6b}.game__status[_ngcontent-%COMP%]{margin-top:.8rem;font-size:1.42rem;font-weight:700;color:#6b6b6b}.game__links[_ngcontent-%COMP%]{margin-top:2.5rem}.game-links[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.6rem}.game-links__link[_ngcontent-%COMP%]{padding:1.4rem 1.7rem;margin-bottom:1px;background-color:#429a85;border-radius:20px;white-space:nowrap;display:block;font-size:1.3rem;font-weight:700;color:#fff;transition:all ease .3s}.game-links__link[_ngcontent-%COMP%]:hover{background-color:#254e44}"]}),e})();function x(e,i){if(1&e&&(n.TgZ(0,"li",6),n._UZ(1,"app-game",7),n.qZA()),2&e){const t=i.$implicit;n.xp6(1),n.Q6J("game",t)}}function P(e,i){if(1&e&&(n.ynx(0),n.TgZ(1,"ul",4),n.YNc(2,x,2,1,"li",5),n.qZA(),n.BQk()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("@appear",void 0),n.xp6(1),n.Q6J("ngForOf",t.games)}}function y(e,i){1&e&&(n.TgZ(0,"li",9),n._UZ(1,"div",10),n.qZA())}const Z=function(){return[]};function w(e,i){1&e&&(n.ynx(0),n.TgZ(1,"ul",4),n.YNc(2,y,2,0,"li",8),n.qZA(),n.BQk()),2&e&&(n.xp6(1),n.Q6J("@appear",void 0),n.xp6(1),n.Q6J("ngForOf",n.DdM(2,Z).constructor(10)))}let d=(()=>{class e{constructor(t,o){this._router=t,this._gamesService=o,this.isHistory=!1}ngOnInit(){this.isHistory=this._router.url.endsWith("history"),this._gamesService.getGames(this.isHistory).subscribe(t=>{this.games=t})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(u.F0),n.Y36(b.B))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-games"]],decls:6,vars:4,consts:[[1,"games"],[1,"games__wrapper"],[1,"games__title","title-page"],[4,"ngIf"],[1,"games__list"],["class","games__game",4,"ngFor","ngForOf"],[1,"games__game"],[3,"game"],["class","games__game games__game_placehold",4,"ngFor","ngForOf"],[1,"games__game","games__game_placehold"],[1,"games__game_placehold__item"]],template:function(t,o){1&t&&(n.TgZ(0,"section",0)(1,"div",1)(2,"h1",2),n._uU(3),n.qZA(),n.YNc(4,P,3,2,"ng-container",3),n.YNc(5,w,3,3,"ng-container",3),n.qZA()()),2&t&&(n.xp6(2),n.Q6J("@appear",void 0),n.xp6(1),n.hij(" ",o.isHistory?"\u0418\u0441\u0442\u043e\u0440\u0438\u044f":"\u0422\u0435\u043a\u0443\u0449\u0438\u0435"," "),n.xp6(1),n.Q6J("ngIf",o.games),n.xp6(1),n.Q6J("ngIf",!o.games))},dependencies:[s.sg,s.O5,M],styles:['.games[_ngcontent-%COMP%]{padding:6.8rem 7rem 3rem}.games__wrapper[_ngcontent-%COMP%]{position:relative;padding-top:3.6rem}.games__title[_ngcontent-%COMP%]{position:absolute;left:0;top:-4rem}.games__list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-1.6rem}.games__game[_ngcontent-%COMP%]{flex:0 0 50%;padding:1.6rem}@media (min-width: 2300px){.games__game[_ngcontent-%COMP%]{flex:0 0 33.333333%}}.games__game_placehold__item[_ngcontent-%COMP%]{width:100%;padding-top:23rem;background-color:#ededed;position:relative;border-radius:20px;overflow:hidden}.games__game_placehold__item[_ngcontent-%COMP%]:after{content:"";position:absolute;width:140%;left:30%;top:0;transform:rotate(45deg);box-shadow:0 0 60px 50px #e1e1e1;animation:loading infinite 1.5s linear}@keyframes loading{0%{left:-140%}to{left:55%}}'],data:{animation:[(0,g.X$)("appear",[(0,g.eR)(":enter",(0,g._7)(c.M))])]}}),e})();var r=a(433),_=a(1658);const k=["buttonElement"],f=function(e){return{invalid:e}},T=function(e){return{isVisiblePass:e}};let A=(()=>{class e{constructor(t,o,l){this._login=t,this._destroy=o,this._router=l,this.isVisiblePass=!1,this.loginForm=new r.cw({login:new r.NI("",{validators:r.kI.required,nonNullable:!0}),password:new r.NI("",{validators:r.kI.required,nonNullable:!0})})}ngOnInit(){}login(){!this.loginForm.valid||(this.button.nativeElement.classList.add("loading"),this._login.login({username:this.loginForm.controls.login.value,password:this.loginForm.controls.password.value}).pipe(this._destroy.takeUntilDestroy).subscribe({next:()=>this._router.navigate([""]),error:()=>{this.button.nativeElement.classList.remove("loading")}}))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(m.r),n.Y36(_.z),n.Y36(u.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-login"]],viewQuery:function(t,o){if(1&t&&n.Gf(k,5),2&t){let l;n.iGM(l=n.CRH())&&(o.button=l.first)}},features:[n._Bn([_.z])],decls:21,vars:14,consts:[[1,"login"],[1,"login__wrapper"],[1,"login__title","title-page"],["action","",1,"login__form","login-form",3,"formGroup","ngSubmit"],[1,"login-form__field"],["for","login",1,"login-form__label"],["id","login","type","text","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",1,"login-form__input",3,"formControl","ngClass"],["for","password",1,"login-form__label"],["id","password","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",1,"login-form__input",3,"formControl","type","ngClass"],[1,"login-form__visible",3,"ngClass","click"],["src","assets/icons/visible.svg","alt",""],[1,"login-form__submit-wrap"],["type","submit",1,"login-form__submit"],["buttonElement",""],[1,"login-form__submit-text"],["src","assets/icons/loader-button.svg","alt","",1,"login-form__submit-loader"]],template:function(t,o){1&t&&(n.TgZ(0,"section",0)(1,"div",1)(2,"h1",2),n._uU(3," \u0412\u043e\u0439\u0442\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 "),n.qZA(),n.TgZ(4,"form",3),n.NdJ("ngSubmit",function(){return o.login()}),n.TgZ(5,"div",4)(6,"label",5),n._uU(7," \u041b\u043e\u0433\u0438\u043d "),n.qZA(),n._UZ(8,"input",6),n.qZA(),n.TgZ(9,"div",4)(10,"label",7),n._uU(11," \u041f\u0430\u0440\u043e\u043b\u044c "),n.qZA(),n._UZ(12,"input",8),n.TgZ(13,"div",9),n.NdJ("click",function(){return o.isVisiblePass=!o.isVisiblePass}),n._UZ(14,"img",10),n.qZA()(),n.TgZ(15,"div",11)(16,"button",12,13)(18,"span",14),n._uU(19,"\u0412\u043e\u0439\u0442\u0438"),n.qZA(),n._UZ(20,"img",15),n.qZA()()()()()),2&t&&(n.Q6J("@appear",void 0),n.xp6(4),n.Q6J("formGroup",o.loginForm),n.xp6(4),n.Q6J("formControl",o.loginForm.controls.login)("ngClass",n.VKq(8,f,o.loginForm.controls.login.invalid&&o.loginForm.controls.login.touched)),n.xp6(4),n.Q6J("formControl",o.loginForm.controls.password)("type",o.isVisiblePass?"text":"password")("ngClass",n.VKq(10,f,o.loginForm.controls.password.invalid&&o.loginForm.controls.password.touched)),n.xp6(1),n.Q6J("ngClass",n.VKq(12,T,o.isVisiblePass)))},dependencies:[s.mk,r._Y,r.Fj,r.JJ,r.JL,r.oH,r.sg],styles:['.login[_ngcontent-%COMP%]{padding:6rem 3rem}.login__wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.login__form[_ngcontent-%COMP%]{max-width:600px;min-width:300px;width:50%;margin:15rem auto 0}.login-form__field[_ngcontent-%COMP%]{position:relative}.login-form__field[_ngcontent-%COMP%]:nth-child(2){margin-top:2.5rem}.login-form__label[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;cursor:pointer;margin-left:.8rem}.login-form__input[_ngcontent-%COMP%]{display:block;margin-top:1.2rem;background-color:#f0f0f0;width:100%;padding:1.3rem 1rem;border-radius:11px;font-size:1.3rem;color:#000;font-weight:600;transition:all ease .2s}.login-form__input[_ngcontent-%COMP%]::placeholder{color:#575757;font-weight:400}.login-form__input[_ngcontent-%COMP%]:focus{box-shadow:0 0 1px 1px #494949}.login-form__input.invalid[_ngcontent-%COMP%]{box-shadow:0 0 1px 1px red}.login-form__visible[_ngcontent-%COMP%]{position:absolute;right:12px;bottom:2rem;cursor:pointer}.login-form__visible[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:0;top:0;transform:translate(-100%,-50%)}.login-form__visible[_ngcontent-%COMP%]:after{content:"";position:absolute;z-index:3;opacity:0;left:50%;top:50%;background-color:#888;width:26px;height:2px;transform:translate(-100%,-50%) rotate(-45deg);transition:all ease .2s}.login-form__visible.isVisiblePass[_ngcontent-%COMP%]:after{opacity:1}.login-form__submit-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:5.5rem}.login-form__submit[_ngcontent-%COMP%]{margin:0 auto;padding:1.5rem 5.5rem;background-color:#000;color:#fff;border-radius:20px;font-size:1.8rem;font-weight:700;transition:all ease .3s;border:1px solid black;position:relative}.login-form__submit[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.login-form__submit-text[_ngcontent-%COMP%], .login-form__submit-loader[_ngcontent-%COMP%]{transition:all ease .3s}.login-form__submit.loading[_ngcontent-%COMP%]   .login-form__submit-text[_ngcontent-%COMP%]{opacity:0}.login-form__submit.loading[_ngcontent-%COMP%]   .login-form__submit-loader[_ngcontent-%COMP%]{opacity:1}.login-form__submit-loader[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);transition:all ease .3s;opacity:0;width:2rem;height:2rem}'],data:{animation:[(0,g.X$)("appear",[(0,g.eR)(":enter",(0,g._7)(c.M))])]}}),e})();function F(e,i){1&e&&(n.ynx(0),n.TgZ(1,"a",13)(2,"span"),n._uU(3,"\u0421\u041e\u0417\u0414\u0410\u0422\u042c"),n.qZA(),n.TgZ(4,"span"),n._uU(5,"\u0418\u0413\u0420\u0423"),n.qZA()(),n.BQk())}function U(e,i){1&e&&(n.TgZ(0,"a",14)(1,"span"),n._uU(2,"\u0420\u0415\u0416\u0418\u041c"),n.qZA(),n.TgZ(3,"span"),n._uU(4,"\u0420\u0415\u0414\u0410\u041a\u0422\u041e\u0420\u0410"),n.qZA()())}let q=(()=>{class e{constructor(t,o){this.login=t,this._destroy=o}ngOnInit(){this.login.isLogged$.pipe(this._destroy.takeUntilDestroy).subscribe(t=>{t||this.login.checkAuthorization().pipe(this._destroy.takeUntilDestroy).subscribe()})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(m.r),n.Y36(_.z))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-sidebar"]],features:[n._Bn([_.z])],decls:21,vars:5,consts:[[1,"sidebar"],[1,"sidebar__wrapper"],[1,"sidebar__content"],[1,"sidebar__title"],[1,"sidebar__nav","sidebar-nav"],[1,"sidebar-nav__list"],[1,"sidebar-nav__item"],["href","#","routerLink","",1,"sidebar-nav__link"],["href","#","routerLink","history",1,"sidebar-nav__link"],[1,"sidebar-nav__space"],[1,"sidebar-nav__item","sidebar-nav__item_edit"],[4,"ngIf","ngIfElse"],["loginTemplate",""],["href","#","routerLink","create-game",1,"sidebar-nav__link"],["href","#","routerLink","login",1,"sidebar-nav__link"]],template:function(t,o){if(1&t&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),n._uU(4," \u0418\u0433\u0440\u044b "),n.qZA(),n.TgZ(5,"nav",4)(6,"ul",5)(7,"li",6)(8,"a",7)(9,"span"),n._uU(10,"\u0422\u0415\u041a\u0423\u0429\u0418\u0415"),n.qZA()()(),n.TgZ(11,"li",6)(12,"a",8)(13,"span"),n._uU(14,"\u0418\u0421\u0422\u041e\u0420\u0418\u042f"),n.qZA()()(),n._UZ(15,"li",9),n.TgZ(16,"li",10),n.YNc(17,F,6,0,"ng-container",11),n.ALo(18,"async"),n.YNc(19,U,5,0,"ng-template",null,12,n.W1O),n.qZA()()()()()()),2&t){const l=n.MAs(20);n.xp6(2),n.Q6J("@appear",void 0),n.xp6(15),n.Q6J("ngIf",n.lcZ(18,3,o.login.isLogged$))("ngIfElse",l)}},dependencies:[s.O5,u.yS,s.Ov],styles:['.sidebar[_ngcontent-%COMP%]{height:100%;color:#fff;background-color:#000}.sidebar__wrapper[_ngcontent-%COMP%]{padding:6.8rem 1rem 2rem;height:100%}.sidebar__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;position:relative}.sidebar__title[_ngcontent-%COMP%]{flex-grow:0;font-size:1.6rem;color:#6b6b6b;font-weight:700;position:absolute;left:0;top:-1.5rem}.sidebar__nav[_ngcontent-%COMP%]{flex:1 0 auto}.sidebar-nav[_ngcontent-%COMP%]{margin-top:.8rem}.sidebar-nav__list[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;gap:1rem}.sidebar-nav__link[_ngcontent-%COMP%]{padding:1.4rem;font-weight:600;font-size:1.3rem;letter-spacing:.035rem;background-color:#429a85;border-radius:11px;width:100%;height:100%;display:flex;flex-direction:column;gap:.5rem;align-items:center;justify-content:center;position:relative;overflow:hidden}.sidebar-nav__link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:2}.sidebar-nav__link[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;top:50%;width:0;height:0;z-index:0;transform:translate(-50%,-50%);background-color:#429a85;transition:all ease .6s;border-radius:50%}.sidebar-nav__link[_ngcontent-%COMP%]:hover:after{width:300px;height:200px;background-color:#37816f}.sidebar-nav__item_edit[_ngcontent-%COMP%]   .sidebar-nav__link[_ngcontent-%COMP%]{background-color:#646464}.sidebar-nav__item_edit[_ngcontent-%COMP%]   .sidebar-nav__link[_ngcontent-%COMP%]:after{background-color:#646464;transition:all ease .4s}.sidebar-nav__item_edit[_ngcontent-%COMP%]   .sidebar-nav__link[_ngcontent-%COMP%]:hover:after{background-color:#525252}.sidebar-nav__space[_ngcontent-%COMP%]{flex-grow:1}'],data:{animation:[(0,g.X$)("appear",[(0,g.eR)(":enter",(0,g._7)(c.M))])]}}),e})();function G(e,i){if(1&e){const t=n.EpF();n.ynx(0),n.TgZ(1,"div",5)(2,"button",6),n.NdJ("click",function(){n.CHM(t);const l=n.oxw();return n.KtG(l.loginService.logOut())}),n._uU(3," \u0412\u044b\u0439\u0442\u0438 "),n.qZA()(),n.BQk()}}let J=(()=>{class e{constructor(t){this.loginService=t}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(m.r))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-main-page"]],decls:8,vars:3,consts:[[1,"mainpage"],[1,"mainpage__grid"],[1,"mainpage__sidebar"],[1,"mainpage__content"],[4,"ngIf"],[1,"logout"],[1,"logout__button",3,"click"]],template:function(t,o){1&t&&(n.TgZ(0,"section",0)(1,"div",1)(2,"div",2),n._UZ(3,"app-sidebar"),n.qZA(),n.TgZ(4,"div",3),n._UZ(5,"router-outlet"),n.qZA()(),n.YNc(6,G,4,0,"ng-container",4),n.ALo(7,"async"),n.qZA()),2&t&&(n.xp6(6),n.Q6J("ngIf",n.lcZ(7,1,o.loginService.isLogged$)))},dependencies:[s.O5,u.lC,q,s.Ov],styles:[".mainpage[_ngcontent-%COMP%]{min-width:100vw;min-height:100vh}.mainpage__sidebar[_ngcontent-%COMP%]{position:fixed;width:13rem;height:100%;left:0;top:0}.mainpage__content[_ngcontent-%COMP%]{padding-left:13rem;background-color:#fff;min-height:100vh}.logout[_ngcontent-%COMP%]{position:fixed;right:0;top:0;transform:translate(-50%,50%);border-radius:15px;overflow:hidden;border:1px solid black}.logout__button[_ngcontent-%COMP%]{padding:1rem 2rem;background-color:#000;color:#fff;font-size:1.3rem;transition:all ease .3s}.logout__button[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}"]}),e})(),Q=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-not-found"]],decls:2,vars:0,template:function(t,o){1&t&&(n.TgZ(0,"p"),n._uU(1,"not-found works!"),n.qZA())}}),e})();var S=a(4466);const B=[{path:"",component:J,children:[{path:"",component:d},{path:"history",component:d},{path:"login",component:A},{path:"error",component:Q}]}];let E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[s.ez,u.Bz.forChild(B),r.UX,S.m,u.Bz]}),e})()}}]);